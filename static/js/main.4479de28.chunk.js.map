{"version":3,"sources":["Components/ImageGalleryItem/ImageGallery.module.css","Components/Modal/Modal.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Button/Button.module.css","Components/Searchbar/Searchbar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/Button/Button.js","Components/Modal/Modal.js","App.js","index.js","Components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","onSubmit","useState","query","setQuery","className","styles","SearchForm","e","preventDefault","trim","toast","warning","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","name","value","onChange","currentTarget","ImageGalleryItem","clicked","imageId","imageSmall","alt","imageLarge","onClick","id","src","ImageGalleryItemImage","ImageGallery","images","map","image","webformatURL","imageLadge","largeImageURL","tags","shortid","generate","Button","loadMore","modalRoot","document","querySelector","Modal","onClose","useEffect","handleKeyDown","code","window","addEventListener","removeEventListener","createPortal","Overlay","target","App","page","setPage","hits","setHits","loading","setLoading","error","setError","showModal","setShowModal","largeImgUrl","setLargeImgUrl","fetchImages","fetch","then","response","ok","json","Promise","reject","Error","prev","prevPage","length","catch","finally","toScroll","scrollBy","top","documentElement","clientHeight","behavior","autoClose","currentSrc","color","height","width","timeout","imgUrl","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4479de28.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__3eIE7\",\"ImageGalleryItemImage\":\"ImageGallery_ImageGalleryItemImage__2K00W\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3wXlI\",\"Modal\":\"Modal_Modal__6aOPz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2oo54\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2CzZy\"};","import { useState } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { ImSearch } from 'react-icons/im';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Searchbar.module.css';\r\n\r\nexport default function Searchbar({ onSubmit }) {\r\n  const [query, setQuery] = useState('');\r\n\r\n  const handleChange = e => {\r\n    setQuery(e.currentTarget.value);\r\n  };\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    if (query.trim() === '') {\r\n      toast.warning('Enter your query!');\r\n      return;\r\n    }\r\n\r\n    onSubmit(query);\r\n    setQuery('');\r\n  };\r\n  return (\r\n    <header className={styles.Searchbar}>\r\n      <form className={styles.SearchForm} onSubmit={handleSubmit}>\r\n        <button type=\"submit\" className={styles.SearchFormButton}>\r\n          <ImSearch className={styles.SearchFormButtonLabel} />\r\n        </button>\r\n\r\n        <input\r\n          className={styles.SearchFormInput}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          name=\"query\"\r\n          value={query}\r\n          onChange={handleChange}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func,\r\n};\r\n","import React from 'react';\r\nimport styles from './ImageGallery.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGalleryItem = ({\r\n  clicked,\r\n  imageId,\r\n  imageSmall,\r\n  imageLarge,\r\n  alt,\r\n}) => {\r\n  return (\r\n    <li className={styles.ImageGalleryItem} onClick={clicked}>\r\n      <img\r\n        id={imageId}\r\n        src={imageSmall}\r\n        alt={alt}\r\n        className={styles.ImageGalleryItemImage}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  imageId: PropTypes.number.isRequired,\r\n  imageSmall: PropTypes.string,\r\n  imageLarge: PropTypes.string,\r\n  alt: PropTypes.string,\r\n  clicked: PropTypes.func,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport shortid from 'shortid';\r\nimport styles from './ImageGallery.module.css';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\n\r\nconst ImageGallery = ({ images, onClick }) => {\r\n  return (\r\n    <ul className={styles.ImageGallery}>\r\n      {images.map(image => (\r\n        <ImageGalleryItem\r\n          key={shortid.generate()}\r\n          imageId={image.id}\r\n          imageSmall={image.webformatURL}\r\n          imageLadge={image.largeImageURL}\r\n          alt={image.tags}\r\n          clicked={onClick}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      key: PropTypes.number,\r\n    }),\r\n  ).isRequired,\r\n  onClick: PropTypes.func,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Button.module.css';\r\n\r\nconst Button = ({ loadMore }) => {\r\n  return (\r\n    <button type=\"button\" className={styles.Button} onClick={loadMore}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  loadMore: PropTypes.func,\r\n};\r\n\r\nexport default Button;\r\n","import { useEffect } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default function Modal({ onClose, src }) {\r\n  useEffect(() => {\r\n    const handleKeyDown = e => {\r\n      if (e.code === 'Escape') {\r\n        onClose();\r\n      }\r\n    };\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return () => {\r\n      window.removeEventListener('keydown', handleKeyDown);\r\n    };\r\n  }, [onClose]);\r\n\r\n  const handleOverlayClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  return createPortal(\r\n    <div className={styles.Overlay} onClick={handleOverlayClick}>\r\n      <div className={styles.Modal}>\r\n        <img src={src} alt=\"\" />\r\n      </div>\r\n    </div>,\r\n    modalRoot,\r\n  );\r\n}\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func,\r\n  src: PropTypes.string,\r\n};\r\n","import { useState, useEffect } from 'react';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport Loader from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport './App.css';\r\nimport Searchbar from './Components/Searchbar/Searchbar';\r\nimport ImageGallery from './Components/ImageGallery/ImageGallery';\r\nimport Button from './Components/Button/Button';\r\nimport Modal from './Components/Modal/Modal';\r\n\r\nconst apiKey = '24065015-abf144b31d6566bdcce4b2cfb';\r\nconst baseUrl = 'https://pixabay.com/api/';\r\n\r\nexport default function App() {\r\n  const [query, setQuery] = useState('');\r\n  const [page, setPage] = useState(1);\r\n  const [hits, setHits] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [largeImgUrl, setLargeImgUrl] = useState('');\r\n\r\n  useEffect(() => {\r\n    if (!query) return;\r\n\r\n    setLoading(true);\r\n    setHits([]);\r\n    setPage(1);\r\n\r\n    fetchImages();\r\n  }, [query]);\r\n\r\n  const fetchImages = () => {\r\n    fetch(\r\n      `${baseUrl}?q=${query}&page=${page}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=12`,\r\n    )\r\n      .then(response => {\r\n        if (response.ok) {\r\n          return response.json();\r\n        }\r\n        return Promise.reject(new Error('No images for this request'));\r\n      })\r\n      .then(({ hits }) => {\r\n        setHits(prev => [...prev, ...hits]);\r\n        setPage(prevPage => prevPage + 1);\r\n\r\n        if (hits.length === 0) {\r\n          return toast.error('No images for your request');\r\n        }\r\n      })\r\n      .catch(error => setError(error))\r\n      .finally(() => {\r\n        setLoading(false);\r\n        toScroll();\r\n      });\r\n  };\r\n\r\n  const toScroll = () => {\r\n    window.scrollBy({\r\n      top: document.documentElement.clientHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  };\r\n\r\n  const getQueryFromForm = query => {\r\n    setQuery(query);\r\n  };\r\n\r\n  const handleGalleryItem = e => {\r\n    setLargeImgUrl(e.target.currentSrc);\r\n    setShowModal(true);\r\n  };\r\n\r\n  const toggleModal = imgUrl => {\r\n    setShowModal(!showModal);\r\n    setLargeImgUrl(imgUrl);\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <h1 className=\"Title\">Image finder</h1>\r\n      <Searchbar onSubmit={getQueryFromForm} />\r\n      {error && <h1>Something went wrong.</h1>}\r\n      <ToastContainer autoClose={3000} />\r\n      <ImageGallery images={hits} onClick={handleGalleryItem} />\r\n      {loading && (\r\n        <Loader\r\n          type=\"BallTriangle\"\r\n          color=\"#00BFFF\"\r\n          height={100}\r\n          width={100}\r\n          timeout={5000}\r\n          className=\"Loader\"\r\n        />\r\n      )}\r\n      {hits.length > 0 && !loading && <Button loadMore={fetchImages} />}\r\n      {showModal && <Modal onClose={toggleModal} src={largeImgUrl} alt=\"\" />}\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__89uaR\",\"SearchForm\":\"Searchbar_SearchForm__1P3Jq\",\"SearchFormButton\":\"Searchbar_SearchFormButton__hovEH\",\"SearchFormInput\":\"Searchbar_SearchFormInput__1rq1A\"};"],"sourceRoot":""}